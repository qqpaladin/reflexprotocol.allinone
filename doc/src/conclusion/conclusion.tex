\section{Conclusions}

In this thesis, the utilisation of congestion exposure for path diversity was studied. This concept consists on making end hosts reveal to the network the level of congestion they are experiencing. Information traditionally confined in the transport layer, will enable the network with new possibilities. Re-ECN protocol illustrated the concept and provided the network with effective measurement about the congestion that each customer is causing. ISPs needed this measurement to propose fair charging and police heavy users. PREFLEX uses a simple form of congestion exposure to pool path diversity. LEX the congestion exposure protocol, makes end host to tag retransmitted packet so the network could estimate the congestion level on the path that they are using. This way stub domains could allocate traffic to paths according to the level of congestion. Balancing based on congestion presents many advantages compared to the classical load balancing. 

First, by using congestion instead of resource utilization we target directly the optimization of quality of service perceived by customers. As we've seen during our analysis (section 5.3) the use of link utilization might give an illusive idea about the real link state.  To mitigate this problem, TEXCP is enabled with a feedback mechanism that allow congested routers to limit the transmission rate of  ingress routers. The drawback of such means is that bandwidth could be wasted and customers are not having the same experience.

Secondly, the congestion level as revealed by LEX correspond to an end-to-end measurement contrary to resource utilization. Thus, PREFLEX architecture is not limited to intra-domain traffic engineering. Multihoming, is another field where the architecture could be useful. 

Another feature of PREFLEX consists on the presence of cooperation between end hosts and network on multiple levels. It illustrates the fact that both parties are drawing benefits from path diversity. Thus, Path Re-Feedback, the second component of the architecture makes end hosts aware of network path preference. This information needed so the packet marked as retransmitted take the same path as the original packet. But also provides the end hosts with additional freedom regarding path diversity. 
 
\section{summary of contributions}
The work carried out during this dissertation involves participation in the definition of PREFLEX balancing algorithm. This algorithm proposes different  mode corresponding to the difference approaches for traffic balancing. The performance of these modes was analysed. Then, the performance of PREFLEX was compared to the one obtained with TEXCP. 
The analysis and simulations was conducted using a framework on ns3. The implementation was built over an existing tool. Contributions to the framework were mostly related to TEXCP. While routing agents and the queues for  core routers are only used for TEXCP, the other modules were developed in a flexible way that permit re-usability. This include the new ns3 NetDevice with traffic shaping capability and the module for packets classification needed for FLARE traffic splitting and the Traffic Shaper.  The implemented modules are functional and allow to run simulation in different configurations and topologies. 
\section{Future Work}
